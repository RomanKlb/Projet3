<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
<th:block th:replace="../static/layout :: headerfiles"></th:block>
<title>Liste des commentaires</title>
</head>
<body>
	<div th:replace="../static/layout :: header"></div>
	<div th:if="${commentaireForm.allowedToComment}">
		<form action="#" th:action="@{/ajouterCommentaire}"
			th:object="${commentaireForm}" method="POST">
			<fieldset>
				<legend>Ajouter commentaire</legend>
				<input type="hidden" th:field="*{idProjet}" /> <input type="hidden"
					th:field="*{role}" /> <label>Titre</label> <input type="text"
					th:field="*{libelle}" /> <label>Message</label> <input type="text"
					th:field="*{message}" /> <br>
				<div>
					<input type="submit" value="Ajouter" class="btn btn-primary" /> <input
						type="reset" value="Reset fields" class="btn btn-light" />
				</div>
			</fieldset>
		</form>
	</div>
	<div th:unless="${commentaireForm.allowedToComment}"></div>

	<h3>Liste Commentaires</h3>
	<div class="container">
		<div class="row">
			<div class="col-md-8">
				<div class="page-header">
					<h1>
						<small class="pull-right">45 comments</small>
					</h1>
				</div>
				<div class="comments-list">
					<div class="media">
						<p class="pull-right">
							<small>5 days ago</small>
						</p>
						<a class="media-left" href="#">
						</a>
						<div class="media-body">
							<h4 class="media-heading user_name">Baltej Singh</h4>
							Wow! this is really great.

							<p>
								<small><a href="">Like</a> - <a href="">Share</a></small>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<table border="1">
		<tr>
			<th>id commentaire</th>
			<th>username</th>
			<th>titre</th>
			<th>message</th>
			<th>date heure</th>
		</tr>
		<tr th:each="comm:${listeComm}">
			<td><p th:text="${comm.idCommentaire}"></p></td>
			<td><p th:text="${comm.role.utilisateur.prenom}"></p></td>
			<td><p th:text="${comm.libelle}"></p></td>
			<td><p th:text="${comm.message}"></p></td>
			<td><p th:text="${comm.date}"></p></td>
		</tr>
	</table>
	<div th:replace="../static/layout :: footer"></div>
</body>
</html>